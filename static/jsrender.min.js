this.jsviews||this.jQuery&&jQuery.views||function(P,n){function Q(a,b){var d="\\"+a.charAt(0),e="\\"+a.charAt(1),f="\\"+b.charAt(0),c="\\"+b.charAt(1);o.rTag=y=e+"(?:(?:(\\w+(?=[\\/\\s"+f+"]))|(?:(\\w+)?(:)|(>)|(\\*)))\\s*((?:[^"+f+"]|"+f+"(?!"+c+"))*?)(\\/)?|(?:\\/(\\w+)))"+f;y=RegExp(d+y+c,"g");R=RegExp("<.*>|"+a+".*"+b);return this}function S(a){var b=this,d=b.tmpl.helpers||{},a=(b.ctx[a]!==n?b.ctx:d[a]!==n?d:v[a]!==n?v:{})[a];return"function"!==typeof a?a:function(){return a.apply(b,arguments)}}
    function w(a,b,d,e,f,c){var h=d.views,a={tmpl:f,path:b,parent:d,data:e,ctx:a,views:i.isArray(e)?[]:{},hlp:S};i.isArray(h)?h.splice(a.index=c!==n?c:h.length,0,a):h[a.index="_"+W++]=a;return a}function F(a,b,d,e,f){var c,h;if(d&&"object"===typeof d&&!d.nodeType){for(c in d)b(c,d[c]);return a}if(!d||e===n)f&&(e=f(n,e||d));else if(""+d===d)if(null===e)delete b[d];else if(e=f?f(d,e):e)b[d]=e;(h=G.onStoreItem)&&h(b,d,e,f);return e}function l(a,b){return F(this,l,a,b,L)}function H(a,b){return F(this,H,a,
            b)}function v(a,b){return F(this,v,a,b)}function I(a,b){return F(this,I,a,b)}function M(a,b,d,e,f){var c,h,q,g,m,z,j,J={};g=f===p;var A="";this.isTag?(j=this.tmpl,b=b||this.ctx,d=d||this.view,e=e||this.path,f=f||this.index,J=this.props):j=this.jquery&&this[0]||this;d=d||o.topView;m=d.ctx;c=j.layout;a===d&&(a=d.data,c=p);b=b&&b===m?m:m?(m=k({},m),b)?k(m,b):m:b||{};J.link===t&&(b.link=t);j.fn||(j=l[j]||l(j));m=b.link&&G.onRenderItem;z=b.link&&G.onRenderItems;if(j){if(i.isArray(a)&&!c){g=g?d:f!==n&&
            d||w(b,e,d,a,j,f);c=0;for(h=a.length;c<h;c++)q=a[c],q=j.fn(q,w(b,e,g,q,j,(f||0)+c),o),A+=m?m(q,J):q}else g=g?d:w(b,e,d,a,j,f),A+=a||c?j.fn(a,g,o):"";d.topKey=g.index;return z?z(A,e,g.index,j,J):A}return""}function K(a,b){throw(b?b.name+': "'+b.message+'"':"Syntax error")+(a?" \n"+a:"");}function N(a,b,d){function e(b){(b-=B)&&u.push(a.substr(B,b).replace(X,"\\n"))}var f,c,h,q,g,m,z,j,n,i,k,D,o,l,x,t=b?{allowCode:x=b.allowCode,debug:b.debug}:{},s=b&&b.tmpls,C=[],B=0,E=[],u=C,r=[,,,C],Y=0,a=a.replace(Z,
            "\\$1");a.replace(y,function(b,c,h,g,m,q,j,n,o,i){m&&(g=":",h="html");var k="",l="",m=!n&&!g,c=c||g;e(i);B=i+b.length;q?x&&u.push(["*",j.replace($,"$1")]):c?("else"===c&&(r[5]=a.substring(r[5],i),r=E.pop(),u=r[3],m=p),j=j?aa(j,d).replace(ba,function(a,b,c){b?l=l+(c+","):k=k+(c+",");return""}):"",k=k.slice(0,-1),j=j.slice(0,-1),f=[c,h||"",j,m&&[],"{"+(k?"props:{"+k+"},":"")+"path:'"+j+"'"+(l?",ctx:{"+l.slice(0,-1)+"}":"")+"}"],m&&(E.push(r),r=f,r[5]=B),u.push(f)):o&&(r[5]=a.substring(r[5],i),r=E.pop());
        if(!r)throw"Expected block tag";u=r[3]});e(a.length);g=(q=C.length)?"":'"";';for(h=0;h<q;h++)c=C[h],""+c===c?g+='"'+c+'"+':"*"===c[0]?g=g.slice(0,h?-1:-3)+";"+c[1]+(h+1<q?"ret+=":""):(k=c[0],D=c[1],o=c[2],u=c[3],l=c[4],a=c[5],u&&(c=T(a,t,b,Y++),N(a,c),s.push(c)),i=i||-1<l.indexOf("view"),g+=(":"===k?"html"===D?(z=p,"e("+o):D?(n=p,'c("'+D+'",view,'+o):(j=p,"((v="+o+')!=u?v:""'):(m=p,'t("'+k+'",view,"'+(D||"")+'",'+(u?s.length:'""')+","+l+(o?",":"")+o))+")+");g=ca+(j?"v,":"")+(m?"t=j.tag,":"")+(n?"c=j.convert,":
            "")+(z?"e=j.converters.html,":"")+"ret; try{\n\n"+(t.debug?"debugger;":"")+(x?"ret=":"return ")+g.slice(0,-1)+";\n\n"+(x?"return ret;":"")+"}catch(e){return j.err(e);}";try{g=new Function("data, view, j, b, u",g)}catch(da){K("Error in compiled template code:\n"+g,da)}b&&(b.fn=g,b.useVw=n||i||m);return g}function aa(a,b){var d,e={},f=0,c=t,h=t;return a=(a+" ").replace(ea,function(a,g,m,k,j,i,n,o,l,s,y,x,v,w,C,B){function E(a,c,d,e,f,h,g){return c?(a=(d?'view.hlp("'+d+'")':e?"view":"data")+(g?(f?"."+
            f:d?"":e?"":"."+c)+(h||""):(g=d?"":e?f||"":c,"")),b&&"("!==l&&(a="b("+a+',"'+g+'")'),a+(g?"."+g:"")):a}m=m||g||y;k=k||o;l=l||C||"";j=j||""||"";if(i)K();else return h?(h=!x,h?a:'"'):c?(c=!v,c?a:'"'):(m?(f++,m):"")+(B?f?"":d?(d=t,"\u0008"):",":n?(f&&K(),d=p,"\u0008"+k+":"):k?k.replace(fa,E)+(l?(e[++f]=p,l):j):j?a:w?(e[f--]=t,w)+(l?(e[++f]=p,l):""):s?(e[f]||K(),","):g?"":(h=x,c=v,'"'))})}function L(a,b,d,e){function f(b){if(""+b===b||0<b.nodeType){try{h=0<b.nodeType?b:!R.test(b)&&s&&s(b)[0]}catch(c){}h&&
            h.type&&(b=l[h.getAttribute(U)],b||(a=a||"_"+ga++,h.setAttribute(U,a),b=L(a,h.innerHTML,d,e),l[a]=b));return b}}var c,h,i,g;c=f(b);e=e||(b.markup?b:{});e.name=a;g=e.templates;if(!c&&b.markup&&(c=f(b.markup)))if(c.fn&&(c.debug!==b.debug||c.allowCode!==b.allowCode))c=c.markup;if(c!==n){a&&!d&&(O[a]=function(){return b.render.apply(b,arguments)});c.fn||b.fn?c.fn&&(b=a&&a!==c.name?k(k({},c),e):c):(b=T(c,e,d,0),N(c,b));for(i in g)c=g[i],c.name!==i&&(g[i]=L(i,c,b));return b}}function T(a,b,d,e){function f(a){d[a]&&
    (c[a]=k(k({},d[a]),b[a]))}var b=b||{},c={markup:a,tmpls:[],links:[],render:M};d&&(d.templates&&(c.templates=k(k({},d.templates),b.templates)),c.parent=d,c.name=d.name+"["+e+"]",c.index=e);k(c,b);d&&(f("templates"),f("tags"),f("helpers"),f("converters"));return c}function ha(a){return V[a]||(V[a]="&#"+a.charCodeAt(0)+";")}var i,y,R,k,G={},t=!1,p=!0,s=P.jQuery,fa=/^(?:null|true|false|\d[\d.]*|([\w$]+|~([\w$]+)|#(view|([\w$]+))?)([\w$.]*?)(?:[.[]([\w$]+)\]?)?|(['"]).*\8)$/g,ea=/(\()(?=|\s*\()|(?:([([])\s*)?(?:([#~]?[\w$.]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*!:?\/]|(=))\s*|([#~]?[\w$.]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*([)\]])([([]?))|(\s+)/g,
            X=/\r?\n/g,$=/\\(['"])/g,Z=/\\?(['"])/g,ba=/\x08(~)?([^\x08]+)\x08/g,W=0,ga=0,V={"&":"&amp;","<":"&lt;",">":"&gt;"},U="data-jsv-tmpl",ca="var j=j||"+(s?"jQuery.":"js")+"views,",ia=/[\x00"&'<>]/g,ja=Array.prototype.slice,O={},o={jsviews:"v1.0pre",sub:G,debugMode:p,err:function(a){return o.debugMode?"<br/><b>Error:</b> <em> "+(a.message||a)+". </em>":'""'},tmplFn:N,render:O,templates:l,tags:H,helpers:v,converters:I,View:w,convert:function(a,b,d){var e=b.tmpl.converters;return(a=e&&e[a]||I[a])?a.call(b,
                    d):d},delimiters:Q,tag:function(a,b,d,e,f){f.props=f.props||{};var c;c=f.props.tmpl;var h=b.tmpl.tags,i=b.tmpl.templates,g=arguments,h=h&&h[a]||H[a];if(!h)return"";e=e&&b.tmpl.tmpls[e-1];c=c||e||n;f.tmpl=""+c===c?i&&i[c]||l[c]||l(c):c;f.isTag=p;f.converter=d;f.view=b;f.renderContent=M;b.ctx&&k(f.ctx,b.ctx);return(c=h.apply(f,5<g.length?ja.call(g,5):[]))||(c==n?"":c.toString())}};s?(i=s,i.templates=l,i.render=O,i.views=o,i.fn.render=M):(i=P.jsviews=o,i.extend=function(a,b){var d,a=a||{};for(d in b)a[d]=
            b[d];return a},i.isArray=Array&&Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)});k=i.extend;o.topView={views:{},tmpl:{},hlp:S,ctx:o.helpers};H({"if":function(){var a=this.view;a.onElse=function(b,d){for(var e=0,f=d.length;f&&!d[e++];)if(e===f)return"";a.onElse=n;b.path="";return b.renderContent(a)};return a.onElse(this,arguments)},"else":function(){var a=this.view;return a.onElse?a.onElse(this,arguments):""},"for":function(){var a,b="",d=arguments,e=d.length;
        if(this.props.layout)this.tmpl.layout=p;for(a=0;a<e;a++)b=b+this.renderContent(d[a]);return b},"=":function(a){return a},"*":function(a){return a}});I({html:function(a){return a!=n?(""+a).replace(ia,ha):""}});Q("{{","}}")}(this);